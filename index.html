<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dinner Invite</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="page1">
  <main class="card">
    <h1>Hi Professor ,  "Are you free this coming Saturday for dinner?"</h1>
    <p class="sub">ğŸŒ¸â¤ï¸ Just a tiny questionâ€¦ with a big smile ğŸ™‚</p>

    <div style="margin:16px auto 8px; width:min(520px,92%); height:130px; position:relative; background:rgba(255,255,255,0.75); border:1px solid rgba(255,45,85,0.18); border-radius:22px; box-shadow:0 12px 30px rgba(0,0,0,0.10); display:flex; align-items:center; justify-content:center; gap:18px;">
      <button class="btn primary" id="yesBtn">Yes</button>
      <button class="btn" id="noBtn" style="position:absolute; left:60%; top:50%; transform:translate(-50%,-50%); background:linear-gradient(135deg,#fff,#ffe6ef); color:#b1003a; border:1px solid rgba(255,45,85,0.25);">No</button>
    </div>

    <div class="result" id="result"></div>
    <div style="font-size:13px; color:rgba(120,0,40,0.70);">Tip: I know you are Busy with your exams it would be great to have you join me for a relaxing dinner. Not for Long.ğŸ˜Š</div>
  </main>

  <script src="app.js"></script>
  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const box    = noBtn.parentElement;
    const result = document.getElementById("result");

    function moveNo(){
      const boxRect = box.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const padding = 12;
      const minX = padding;
      const maxX = boxRect.width - btnRect.width - padding;

      const currentLeft = parseFloat(getComputedStyle(noBtn).left) || (boxRect.width * 0.60);
      const delta = (Math.random() > 0.5 ? 1 : -1) * (60 + Math.random()*90);
      let nextLeft = Math.max(minX, Math.min(maxX, currentLeft + delta));
      const nextTop = (boxRect.height/2) + (Math.random()*18 - 9);

      noBtn.style.left = nextLeft + "px";
      noBtn.style.top  = nextTop + "px";
    }

    // evade click
    noBtn.addEventListener("mouseover", moveNo);
    noBtn.addEventListener("mousedown", (e)=>{ e.preventDefault(); moveNo(); });
    noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNo(); }, {passive:false});
    noBtn.addEventListener("click", (e)=>{ e.preventDefault(); moveNo(); });

    window.addEventListener("load", ()=>{
      const rect = box.getBoundingClientRect();
      noBtn.style.left = (rect.width * 0.62) + "px";
      noBtn.style.top  = (rect.height / 2) + "px";
      clearData(); // fresh start each time
    });

    yesBtn.addEventListener("click", ()=>{
      result.textContent = "Yay! ğŸ˜Šâ¤ï¸ One more questionâ€¦";
      saveData({ accepted: "Yes" });
      setTimeout(()=>{ window.location.href = "food.html"; }, 450);
    });
  </script>
</body>
</html>

